<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The brightness of a backlight device"><meta name="keywords" content="rust, rustlang, rust-lang, backlight"><title>i3status_rs::blocks::backlight - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../../static.files/rustdoc-93196c7a1c3542a8.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../../../static.files/light-4743e13df3dfe8c4.css"><link rel="stylesheet" disabled href="../../../static.files/dark-0e1b889528bd466b.css"><link rel="stylesheet" disabled href="../../../static.files/ayu-65289d5d067c7c66.css"><script id="default-settings" ></script><script src="../../../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../../../static.files/main-3367e395607fafc1.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../../i3status_rs/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../../i3status_rs/index.html"><img class="rust-logo" src="../../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Module backlight</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../../index.html">i3status_rs</a>::<wbr><a href="../index.html">blocks</a>::<wbr><a class="mod" href="#">backlight</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../../../src/i3status_rs/blocks/backlight.rs.html#1-378">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The brightness of a backlight device</p>
<p>This block reads brightness information directly from the filesystem, so it works under both
X11 and Wayland. The block uses <code>inotify</code> to listen for changes in the device’s brightness
directly, so there is no need to set an update interval. This block uses DBus to set brightness
level using the mouse wheel, but will <a href="#d-bus-fallback">fallback to sysfs</a> if <code>systemd-logind</code> is not used.</p>
<h2 id="root-scaling"><a href="#root-scaling">Root scaling</a></h2>
<p>Some devices expose raw values that are best handled with nonlinear scaling. The human perception of lightness is close to the cube root of relative luminance, so settings for <code>root_scaling</code> between 2.4 and 3.0 are worth trying. For devices with few discrete steps this should be 1.0 (linear). More information: <a href="https://en.wikipedia.org/wiki/Lightness">https://en.wikipedia.org/wiki/Lightness</a></p>
<h2 id="configuration"><a href="#configuration">Configuration</a></h2><div><table><thead><tr><th>Key</th><th>Values</th><th>Default</th></tr></thead><tbody>
<tr><td><code>device</code></td><td>The <code>/sys/class/backlight</code> device to read brightness information from.  When there is no <code>device</code> specified, this block will display information from the first device found in the <code>/sys/class/backlight</code> directory. If you only have one display, this approach should find it correctly.</td><td>Default device</td></tr>
<tr><td><code>format</code></td><td>A string to customise the output of this block. See below for available placeholders.</td><td><code>&quot; $icon $brightness &quot;</code></td></tr>
<tr><td><code>step_width</code></td><td>The brightness increment to use when scrolling, in percent</td><td><code>5</code></td></tr>
<tr><td><code>minimum</code></td><td>The minimum brightness that can be scrolled down to</td><td><code>5</code></td></tr>
<tr><td><code>maximum</code></td><td>The maximum brightness that can be scrolled up to</td><td><code>100</code></td></tr>
<tr><td><code>cycle</code></td><td>The brightnesses to cycle through on each click</td><td><code>[minimum, maximum]</code></td></tr>
<tr><td><code>root_scaling</code></td><td>Scaling exponent reciprocal (ie. root)</td><td><code>1.0</code></td></tr>
<tr><td><code>invert_icons</code></td><td>Invert icons’ ordering, useful if you have colorful emoji</td><td><code>false</code></td></tr>
<tr><td><code>ddcci_sleep_multiplier</code></td><td><a href="https://www.ddcutil.com/performance_options/#option-sleep-multiplier">See ddcutil documentation</a></td><td><code>1.0</code></td></tr>
<tr><td><code>ddcci_max_tries_write_read</code></td><td>The maximum number of times to attempt writing to  or reading from a ddcci monitor</td><td><code>10</code></td></tr>
</tbody></table>
</div><div><table><thead><tr><th>Placeholder</th><th>Value</th><th>Type</th><th>Unit</th></tr></thead><tbody>
<tr><td><code>icon</code></td><td>Icon based on backlight’s state</td><td>Icon</td><td>-</td></tr>
<tr><td><code>brightness</code></td><td>Current brightness</td><td>Number</td><td>%</td></tr>
</tbody></table>
</div><div><table><thead><tr><th>Action</th><th>Default button</th></tr></thead><tbody>
<tr><td><code>cycle</code></td><td>Left</td></tr>
<tr><td><code>brightness_up</code></td><td>Wheel Up</td></tr>
<tr><td><code>brightness_down</code></td><td>Wheel Down</td></tr>
</tbody></table>
</div><h2 id="example"><a href="#example">Example</a></h2><div class="example-wrap"><pre class="language-toml"><code>[[block]]
block = &quot;backlight&quot;
device = &quot;intel_backlight&quot;
</code></pre></div><h2 id="d-bus-fallback"><a href="#d-bus-fallback">D-Bus Fallback</a></h2>
<p>If you don’t use <code>systemd-logind</code> i3status-rust will attempt to set the brightness
using sysfs. In order to do this you’ll need to have write permission.
You can do this by writing a <code>udev</code> rule for your system.</p>
<p>First, check that your user is a member of the “video” group using the
<code>groups</code> command. Then add a rule in the <code>/etc/udev/rules.d/</code> directory
containing the following, for example in <code>backlight.rules</code>:</p>
<div class="example-wrap"><pre class="language-text"><code>ACTION==&quot;add&quot;, SUBSYSTEM==&quot;backlight&quot;, GROUP=&quot;video&quot;, MODE=&quot;0664&quot;
</code></pre></div>
<p>This will allow the video group to modify all backlight devices. You will
also need to restart for this rule to take effect.</p>
<h2 id="icons-used"><a href="#icons-used">Icons Used</a></h2>
<ul>
<li><code>backlight</code> (as a progression)</li>
</ul>
</div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.Config.html" title="i3status_rs::blocks::backlight::Config struct">Config</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SessionProxy.html" title="i3status_rs::blocks::backlight::SessionProxy struct">SessionProxy</a></div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.SessionProxyBlocking.html" title="i3status_rs::blocks::backlight::SessionProxyBlocking struct">SessionProxyBlocking</a></div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.run.html" title="i3status_rs::blocks::backlight::run fn">run</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="i3status_rs" data-themes="" data-resource-suffix="" data-rustdoc-version="1.68.0 (2c8cc3432 2023-03-06)" data-search-js="search-98d53477a794af0b.js" data-settings-js="settings-c3c521c753752a1a.js" data-settings-css="settings-08ddfdda51b8ee2e.css" ></div></body></html>